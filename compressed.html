<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>JSON Transformer Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <style>
        :root {
    --primary: #2A9D8F;
    --secondary: #E76F51;
    --dark: #264653;
    --background: #f0efeb;
}

body {
    font-family: 'Segoe UI', system-ui;
    background: var(--background);
    padding: 2rem;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
}

.editor-section textarea {
    width: 100%;
    height: 200px;
    padding: 1rem;
    border: 2px solid var(--primary);
    border-radius: 8px;
    resize: vertical;
}

.options-section {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin: 2rem 0;
}

.btn-generate {
    background: var(--primary);
    color: white;
    padding: 0.8rem 1.5rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}

.output-section pre {
    background: white;
    padding: 1rem;
    border-radius: 8px;
    max-height: 300px;
    overflow: auto;
}

.warning-box {
    background: #FFF3CD;
    border-left: 4px solid #FFC107;
    padding: 1rem;
    margin-top: 2rem;
}

.btn-pdf {
    background: var(--secondary);
    padding: 1rem 2rem;
    font-size: 1.1rem;
}
    </style>


    <div class="container">
        <!-- Editor JSON -->
        <div class="editor-section">
            <h2><i class="fas fa-code"></i> Editor JSON</h2>
            <textarea id="jsonInput" placeholder='{"exemplo": "dados"}'></textarea>
            <button onclick="validateJSON()" class="btn-validate">Validar JSON</button>
        </div>

        <!-- Opções NoSQL -->
        <div class="options-section">
            <div class="nosql-options">
                <h3><i class="fas fa-database"></i> Gerar NoSQL</h3>
                <select id="nosqlType">
                    <option value="mongodb">MongoDB</option>
                    <option value="cassandra">Cassandra</option>
                    <option value="firestore">Firestore</option>
                    <option value="dynamodb">DynamoDB</option>
                </select>
                <button onclick="generateNoSQL()" class="btn-generate">Gerar</button>
            </div>

            <!-- Hash Generator -->
            <div class="hash-options">
                <h3><i class="fas fa-lock"></i> Hash Security</h3>
                <select id="hashAlgorithm">
                    <option value="MD5">MD5</option>
                    <option value="SHA1">SHA-1</option>
                    <option value="SHA256">SHA-256</option>
                </select>
                <button onclick="generateHash()" class="btn-generate">Gerar Hash</button>
            </div>
        </div>

        <!-- Resultados -->
        <div class="output-section">
            <div class="nosql-output">
                <h3>NoSQL Gerado <button onclick="copyNoSQL()"><i class="fas fa-copy"></i></button></h3>
                <pre id="nosqlResult"></pre>
            </div>
            
            <div class="hash-output">
                <h3>Hash Resultante <button onclick="copyHash()"><i class="fas fa-copy"></i></button></h3>
                <pre id="hashResult"></pre>
            </div>
        </div>

        <!-- Controles PDF -->
        <div class="pdf-controls">
            <button onclick="generatePDF()" class="btn-pdf">
                <i class="fas fa-file-pdf"></i> Exportar para PDF
            </button>
        </div>

        <!-- Aviso -->
        <div class="warning-box">
            <i class="fas fa-exclamation-triangle"></i>
            <div>
                <strong>Recursos Avançados:</strong> Use o modo NoSQL para conversão estrutural inteligente.
                Hashes usam criptografia segura no cliente.
            </div>
        </div>
    </div>

    <script>
        // Conversor NoSQL Inteligente
function generateNoSQL() {
    try {
        const jsonData = JSON.parse(document.getElementById('jsonInput').value);
        const dbType = document.getElementById('nosqlType').value;
        let nosql = '';

        switch(dbType) {
            case 'mongodb':
                nosql = `db.collection.insertOne(${JSON.stringify(jsonData, null, 2)});`;
                break;
            case 'cassandra':
                nosql = `INSERT INTO table JSON '${JSON.stringify(jsonData)}';`;
                break;
            case 'firestore':
                nosql = `firestore.collection('docs').add(${JSON.stringify(jsonData)});`;
                break;
            case 'dynamodb':
                nosql = `aws dynamodb put-item --table-name Table --item '${JSON.stringify(jsonData)}'`;
                break;
        }

        document.getElementById('nosqlResult').textContent = nosql;
    } catch (error) {
        alert(`Erro: JSON inválido! Detalhes: ${error.message}`);
    }
}

// Gerador de PDF
function generatePDF() {
    const doc = new jspdf.jsPDF();
    const jsonData = document.getElementById('jsonInput').value;
    
    // Tabela de Dados
    const data = Object.entries(JSON.parse(jsonData)).map(([key, value]) => [
        key, 
        typeof value, 
        JSON.stringify(value).substring(0, 20)
    ]);

    doc.autoTable({
        head: [['Chave', 'Tipo', 'Valor']],
        body: data,
        theme: 'grid',
        styles: { fontSize: 10 }
    });

    doc.save('dados-exportados.pdf');
}

// Sistema de Hashing
function generateHash() {
    const input = document.getElementById('jsonInput').value;
    const algorithm = document.getElementById('hashAlgorithm').value;
    
    const hash = CryptoJS[algorithm](input).toString(CryptoJS.enc.Hex);
    document.getElementById('hashResult').textContent = hash;
}

// Funções de UI
function validateJSON() {
    try {
        JSON.parse(document.getElementById('jsonInput').value);
        alert("JSON válido!");
    } catch (error) {
        alert("JSON inválido! Erro: " + error.message);
    }
}

function copyNoSQL() {
    navigator.clipboard.writeText(document.getElementById('nosqlResult').textContent);
}

function copyHash() {
    navigator.clipboard.writeText(document.getElementById('hashResult').textContent);
}
    </script>
</body>
</html>